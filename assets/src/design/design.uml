@startuml

/'
1) We create a GeoGridConfig by passing a config file containing the filename of the households, cities and commutes csv files.
2) We create a GeoGrid by passing the created GeoGridConfig to the "createGeoGrid" method of the GeoGridFactory.
3) This method requests the necessary information from the GeoGridConfig.
'/

class CitiesReader {
	getPlacesFromCSV() : List<Places>
}

' This holds all info needed to generate a specific geogrid
class GeoGridConfig {
	+ GeoGridConfig(config_csv)
	+ getHouseholds() : List<Houshold>
	+ getCities() : List<City>
	+ getCommute() : Map<City, Map<City, Integer>>
	- parseCities(input_file : csv)
	- parseHouseholds(input_file : csv)
	- parseCommute(input_file : csv)
}

' This is a factory for the GeoGrid
class GeoGridFactory {
	{static} + createGeoGrid(config : GeoGridConfig) : GeoGrid
	{static} - placeSchools() 
	{static} - placeHighSchools()
	{static} - PlaceWorkplaces()
}

class GeoGrid {

}

class ContactPool {
	Capacity: integer
	capacityUsed : integer
	Name: String
}

class Community {
    
}

class PrimaryCommunity {

}

class SecondaryCommunity {

}

class School {

}

class HighSchool {

}

class Workplace {

}

class Place {
	- id : integer
	- name : String
	- province : String
    ' GEN POP ATTR
    + addHousehold(household : Household)
}

class Coordinate {
	longitude : double 
	latitude : double 
}

class GeoGridReader {
    + write(grid : GeoGrid, output_stream : Stream)
}

class GeoGridWriter {
    + read(input_stream: Stream) : GeoGrid
}

class GeoGridJSONWriter {
    + read(input_stream: Stream) : GeoGrid
}

class GeoGridJSONReader {
    + write(grid : GeoGrid, output_stream : Stream)
}

School --|> ContactPool
HighSchool --|> ContactPool 
Workplace --|> ContactPool 
Community --|> ContactPool
ContactPool --|> Place

PrimaryCommunity --|> Community
SecondaryCommunity --|> Community

GeoGridJSONReader --|> GeoGridReader
GeoGridJSONWriter --|> GeoGridWriter

GeoGrid o-- ContactPool
GeoGridFactory o-- GeoGridConfig

Coordinate --o Place
@enduml
